{"ast":null,"code":"import _classCallCheck from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import SearchForm from'./SearchForm';import DisplayPokemon from'./DisplayPokemon';// init pokeAPI call\nvar pokedex=require('pokedex-promise-v2');var P=new pokedex();// Init  pokemon call for translation\nvar pokemonNameSearch=require('pokemon');var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={pokemon:[],frenchName:'',gameid:0,height:0,weight:0,genus:'',stats:[],hp:0,speciesName:'',speciesData:{},pokemonDescriptions:[]};_this.addPokemon=function(pokemon){var oldPokemon=[];var newPokemon=[].concat(oldPokemon,[pokemon]);_this.setState({pokemon:newPokemon});};_this.addFromDefaultSearch=function(){//this.setState({height: this.state.pokemon.height, weight: this.state.pokemon.weight})\n_this.state.pokemon.map(function(pokemonElt){return _this.setState({height:pokemonElt.height/10,weight:pokemonElt.weight/10,speciesName:pokemonElt.species.name,stats:pokemonElt.stats});});};_this.addGameid=function(){var id=pokemonNameSearch.getId(_this.state.frenchName,'fr');var zero=\"\";var gameid=\"\";if(id>9&&id<100){zero=\"0\";gameid=zero+id;}else if(id>0&&id<10){zero=\"00\";gameid=zero+id;}else{gameid=id;}return _this.setState({gameid:gameid});};_this.getHp=function(){_this.state.stats.map(function(elt){if(elt.stat.name===\"hp\"){_this.setState({hp:elt.base_stat});}});};_this.addSpeciesData=function(){var that=_assertThisInitialized(_this);P.getPokemonSpeciesByName(_this.state.speciesName).then(function(response){console.log(response);that.setState({speciesData:response});that.addFromSpeciesData(response);that.extractType();}).catch(function(error){console.log('There was an ERROR: ',error);});};_this.addFromSpeciesData=function(response){_this.setState({pokemonDescriptions:response.flavor_text_entries});};_this.extractType=function(){_this.state.speciesData.genera.map(function(entry){if(entry.language.name===\"fr\"){return _this.setState({genus:entry.genus});}});};_this.searchPokemon=function(pokemon){var formattedInput=pokemon.name.charAt(0).toUpperCase()+pokemon.name.substring(1).toLowerCase();_this.setState({frenchName:formattedInput});var pokemonId=pokemonNameSearch.getId(formattedInput,'fr');var englishPokemonName=pokemonNameSearch.getName(pokemonId,'en');console.log('englishPokemonName',englishPokemonName);// definition de constantes pour recupération dans le callback\nvar addPokemon=function addPokemon(pokemon){_this.addPokemon(pokemon);};var addFromDefaultSearch=function addFromDefaultSearch(){_this.addFromDefaultSearch();};var addGameid=function addGameid(){_this.addGameid();};var addSpeciesData=function addSpeciesData(){_this.addSpeciesData();};var getHp=function getHp(){_this.getHp();};P.getPokemonByName(englishPokemonName.toLowerCase()).then(function(response){console.log(response);addPokemon(response);addFromDefaultSearch();addGameid();addSpeciesData();getHp();}).catch(function(error){console.log('There was an error : ',error);return error;});};return _this;}_createClass(App,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"container\"},React.createElement(\"h1\",null,\"PokeFind\"),React.createElement(\"h2\",null,\"Trouve tes pokemons !\"),React.createElement(SearchForm,{formTitle:\"Renseigne le nom du pokemon en fran\\xE7ais\",searchPokemon:this.searchPokemon,addPokemon:this.addPokemon}),React.createElement(DisplayPokemon,{pokemon:this.state.pokemon,frenchName:this.state.frenchName,gameid:this.state.gameid,height:this.state.height,weight:this.state.weight,stats:this.state.stats,hp:this.state.hp,speciesData:this.state.speciesData,genus:this.state.genus,pokemonDescriptions:this.state.pokemonDescriptions}));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/florentpianet/Documents/React/pokefind/src/components/App.js"],"names":["React","SearchForm","DisplayPokemon","pokedex","require","P","pokemonNameSearch","App","state","pokemon","frenchName","gameid","height","weight","genus","stats","hp","speciesName","speciesData","pokemonDescriptions","addPokemon","oldPokemon","newPokemon","setState","addFromDefaultSearch","map","pokemonElt","species","name","addGameid","id","getId","zero","getHp","elt","stat","base_stat","addSpeciesData","that","getPokemonSpeciesByName","then","response","console","log","addFromSpeciesData","extractType","catch","error","flavor_text_entries","genera","entry","language","searchPokemon","formattedInput","charAt","toUpperCase","substring","toLowerCase","pokemonId","englishPokemonName","getName","getPokemonByName","Component"],"mappings":"8xBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA;AACA,GAAMC,CAAAA,OAAO,CAAGC,OAAO,CAAC,oBAAD,CAAvB,CACA,GAAMC,CAAAA,CAAC,CAAG,GAAIF,CAAAA,OAAJ,EAAV,CAEA;AACA,GAAMG,CAAAA,iBAAiB,CAAGF,OAAO,CAAC,SAAD,CAAjC,C,GAGMG,CAAAA,G,+XACJC,K,CAAQ,CACNC,OAAO,CAAE,EADH,CAENC,UAAU,CAAE,EAFN,CAGNC,MAAM,CAAE,CAHF,CAINC,MAAM,CAAE,CAJF,CAKNC,MAAM,CAAE,CALF,CAMNC,KAAK,CAAE,EAND,CAONC,KAAK,CAAE,EAPD,CAQNC,EAAE,CAAE,CARE,CASNC,WAAW,CAAG,EATR,CAUNC,WAAW,CAAE,EAVP,CAWNC,mBAAmB,CAAE,EAXf,C,OAcRC,U,CAAa,SAACX,OAAD,CAAa,CACxB,GAAIY,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,UAAU,WAAOD,UAAP,EAAmBZ,OAAnB,EAAd,CACA,MAAKc,QAAL,CAAc,CAAEd,OAAO,CAAEa,UAAX,CAAd,EACD,C,OAEDE,oB,CAAuB,UAAM,CAC3B;AACA,MAAKhB,KAAL,CAAWC,OAAX,CAAmBgB,GAAnB,CAAuB,SAACC,UAAD,CAAgB,CACrC,MAAQ,OAAKH,QAAL,CAAc,CACpBX,MAAM,CAAEc,UAAU,CAACd,MAAX,CAAkB,EADN,CAEpBC,MAAM,CAAEa,UAAU,CAACb,MAAX,CAAkB,EAFN,CAGpBI,WAAW,CAAES,UAAU,CAACC,OAAX,CAAmBC,IAHZ,CAIpBb,KAAK,CAAEW,UAAU,CAACX,KAJE,CAAd,CAAR,CAKD,CAND,EAOD,C,OAEDc,S,CAAY,UAAM,CAChB,GAAMC,CAAAA,EAAE,CAAGxB,iBAAiB,CAACyB,KAAlB,CAAwB,MAAKvB,KAAL,CAAWE,UAAnC,CAA+C,IAA/C,CAAX,CACA,GAAIsB,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIrB,CAAAA,MAAM,CAAG,EAAb,CACA,GAAKmB,EAAE,CAAG,CAAN,EAAaA,EAAE,CAAG,GAAtB,CAA4B,CAC1BE,IAAI,CAAG,GAAP,CACArB,MAAM,CAAGqB,IAAI,CAAGF,EAAhB,CAED,CAJD,IAIO,IAAKA,EAAE,CAAG,CAAN,EAAaA,EAAE,CAAG,EAAtB,CAA0B,CAC/BE,IAAI,CAAG,IAAP,CACArB,MAAM,CAAGqB,IAAI,CAAGF,EAAhB,CACD,CAHM,IAGA,CACLnB,MAAM,CAAGmB,EAAT,CACD,CACD,MACE,OAAKP,QAAL,CAAc,CAACZ,MAAM,CAAEA,MAAT,CAAd,CADF,CAGD,C,OAEDsB,K,CAAQ,UAAM,CACZ,MAAKzB,KAAL,CAAWO,KAAX,CAAiBU,GAAjB,CAAqB,SAAAS,GAAG,CAAI,CAC1B,GAAGA,GAAG,CAACC,IAAJ,CAASP,IAAT,GAAkB,IAArB,CAA2B,CACzB,MAAKL,QAAL,CAAc,CACVP,EAAE,CAAEkB,GAAG,CAACE,SADE,CAAd,EAGD,CACF,CAND,EAOD,C,OAGDC,c,CAAiB,UAAM,CACrB,GAAMC,CAAAA,IAAI,8BAAV,CACAjC,CAAC,CAACkC,uBAAF,CAA0B,MAAK/B,KAAL,CAAWS,WAArC,EACCuB,IADD,CACM,SAASC,QAAT,CAAmB,CACvBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAH,IAAI,CAACf,QAAL,CAAc,CAACL,WAAW,CAAEuB,QAAd,CAAd,EACAH,IAAI,CAACM,kBAAL,CAAwBH,QAAxB,EACAH,IAAI,CAACO,WAAL,GACD,CAND,EAOCC,KAPD,CAOO,SAASC,KAAT,CAAgB,CACrBL,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCI,KAApC,EACD,CATD,EAUD,C,OAEDH,kB,CAAqB,SAACH,QAAD,CAAc,CACjC,MAAKlB,QAAL,CAAc,CAACJ,mBAAmB,CAAEsB,QAAQ,CAACO,mBAA/B,CAAd,EACD,C,OAEDH,W,CAAc,UAAM,CAClB,MAAKrC,KAAL,CAAWU,WAAX,CAAuB+B,MAAvB,CAA8BxB,GAA9B,CAAkC,SAACyB,KAAD,CAAW,CACzC,GAAGA,KAAK,CAACC,QAAN,CAAevB,IAAf,GAAwB,IAA3B,CAAiC,CAC/B,MACE,OAAKL,QAAL,CAAc,CAACT,KAAK,CAAEoC,KAAK,CAACpC,KAAd,CAAd,CADF,CAGD,CACJ,CAND,EAOD,C,OAEDsC,a,CAAgB,SAAC3C,OAAD,CAAa,CAC3B,GAAM4C,CAAAA,cAAc,CAAG5C,OAAO,CAACmB,IAAR,CAAa0B,MAAb,CAAoB,CAApB,EAAuBC,WAAvB,GAAuC9C,OAAO,CAACmB,IAAR,CAAa4B,SAAb,CAAuB,CAAvB,EAA0BC,WAA1B,EAA9D,CACA,MAAKlC,QAAL,CAAc,CAACb,UAAU,CAAE2C,cAAb,CAAd,EACA,GAAMK,CAAAA,SAAS,CAAGpD,iBAAiB,CAACyB,KAAlB,CAAwBsB,cAAxB,CAAwC,IAAxC,CAAlB,CACA,GAAMM,CAAAA,kBAAkB,CAAGrD,iBAAiB,CAACsD,OAAlB,CAA0BF,SAA1B,CAAqC,IAArC,CAA3B,CACAhB,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCgB,kBAAlC,EACA;AACA,GAAMvC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACX,OAAD,CAAa,CAAC,MAAKW,UAAL,CAAgBX,OAAhB,EAAyB,CAA1D,CACA,GAAMe,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CAAC,MAAKA,oBAAL,GAA4B,CAAhE,CACA,GAAMK,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAAC,MAAKA,SAAL,GAAiB,CAA1C,CACA,GAAMQ,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAAC,MAAKA,cAAL,GAAsB,CAApD,CACA,GAAMJ,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAAC,MAAKA,KAAL,GAAa,CAAlC,CACA5B,CAAC,CAACwD,gBAAF,CAAmBF,kBAAkB,CAACF,WAAnB,EAAnB,EACGjB,IADH,CACQ,SAASC,QAAT,CAAmB,CACvBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACArB,UAAU,CAACqB,QAAD,CAAV,CACAjB,oBAAoB,GACpBK,SAAS,GACTQ,cAAc,GACdJ,KAAK,GACN,CARH,EASGa,KATH,CASS,SAASC,KAAT,CAAgB,CACrBL,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCI,KAArC,EACA,MAAOA,CAAAA,KAAP,CACD,CAZH,EAaD,C,sEAEQ,CACP,MACE,4BAAK,SAAS,CAAC,WAAf,EACE,yCADF,CAEE,sDAFF,CAGE,oBAAC,UAAD,EAAY,SAAS,CAAC,4CAAtB,CAAgE,aAAa,CAAE,KAAKK,aAApF,CAAmG,UAAU,CAAE,KAAKhC,UAApH,EAHF,CAIE,oBAAC,cAAD,EAAgB,OAAO,CAAE,KAAKZ,KAAL,CAAWC,OAApC,CACgB,UAAU,CAAE,KAAKD,KAAL,CAAWE,UADvC,CAEgB,MAAM,CAAE,KAAKF,KAAL,CAAWG,MAFnC,CAGgB,MAAM,CAAE,KAAKH,KAAL,CAAWI,MAHnC,CAIgB,MAAM,CAAE,KAAKJ,KAAL,CAAWK,MAJnC,CAKgB,KAAK,CAAE,KAAKL,KAAL,CAAWO,KALlC,CAMgB,EAAE,CAAE,KAAKP,KAAL,CAAWQ,EAN/B,CAOgB,WAAW,CAAE,KAAKR,KAAL,CAAWU,WAPxC,CAQgB,KAAK,CAAE,KAAKV,KAAL,CAAWM,KARlC,CASgB,mBAAmB,CAAE,KAAKN,KAAL,CAAWW,mBAThD,EAJF,CADF,CAiBD,C,iBAvIenB,KAAK,CAAC8D,S,EA2IxB,cAAevD,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport SearchForm from './SearchForm';\nimport DisplayPokemon from './DisplayPokemon';\n\n// init pokeAPI call\nconst pokedex = require('pokedex-promise-v2');\nconst P = new pokedex();\n\n// Init  pokemon call for translation\nconst pokemonNameSearch = require('pokemon');\n\n\nclass App extends React.Component {\n  state = {\n    pokemon: [],\n    frenchName: '',\n    gameid: 0,\n    height: 0,\n    weight: 0,\n    genus: '',\n    stats: [],\n    hp: 0,\n    speciesName : '',\n    speciesData: {},\n    pokemonDescriptions: []\n  };\n\n  addPokemon = (pokemon) => {\n    let oldPokemon = [];\n    let newPokemon = [...oldPokemon, pokemon];\n    this.setState({ pokemon: newPokemon });\n  }\n  \n  addFromDefaultSearch = () => {\n    //this.setState({height: this.state.pokemon.height, weight: this.state.pokemon.weight})\n    this.state.pokemon.map((pokemonElt) => {\n      return (this.setState({\n        height: pokemonElt.height/10,\n        weight: pokemonElt.weight/10,\n        speciesName: pokemonElt.species.name,\n        stats: pokemonElt.stats}))\n    })\n  }\n\n  addGameid = () => {\n    const id = pokemonNameSearch.getId(this.state.frenchName, 'fr');\n    let zero = \"\";\n    let gameid = \"\";\n    if ((id > 9) && (id < 100)) {\n      zero = \"0\";\n      gameid = zero + id;\n\n    } else if ((id > 0) && (id < 10)){\n      zero = \"00\";\n      gameid = zero + id;\n    } else {\n      gameid = id;\n    }\n    return(\n      this.setState({gameid: gameid})\n    )\n  }\n\n  getHp = () => {\n    this.state.stats.map(elt => {\n      if(elt.stat.name === \"hp\") {\n        this.setState({\n            hp: elt.base_stat\n        })\n      }\n    })\n  }\n// Ajouter ici les methodes d'extraction de données de l'objet species\n\n  addSpeciesData = () => {\n    const that = this;\n    P.getPokemonSpeciesByName(this.state.speciesName)\n    .then(function(response) {\n      console.log(response);\n      that.setState({speciesData: response});\n      that.addFromSpeciesData(response);\n      that.extractType();\n    })\n    .catch(function(error) {\n      console.log('There was an ERROR: ', error);\n    });\n  }\n\n  addFromSpeciesData = (response) => {\n    this.setState({pokemonDescriptions: response.flavor_text_entries});\n  }\n  \n  extractType = () => {\n    this.state.speciesData.genera.map((entry) => {\n        if(entry.language.name === \"fr\") {\n          return(\n            this.setState({genus: entry.genus})\n          )\n        }\n    })\n  }\n// Ajouter ici les methodes d'extraction de données de l'objet pokemon\n  searchPokemon = (pokemon) => {\n    const formattedInput = pokemon.name.charAt(0).toUpperCase() + pokemon.name.substring(1).toLowerCase();\n    this.setState({frenchName: formattedInput});\n    const pokemonId = pokemonNameSearch.getId(formattedInput, 'fr');\n    const englishPokemonName = pokemonNameSearch.getName(pokemonId, 'en');\n    console.log('englishPokemonName', englishPokemonName);\n    // definition de constantes pour recupération dans le callback\n    const addPokemon = (pokemon) => {this.addPokemon(pokemon)};\n    const addFromDefaultSearch = () => {this.addFromDefaultSearch()};\n    const addGameid = () => {this.addGameid()};\n    const addSpeciesData = () => {this.addSpeciesData()};\n    const getHp = () => {this.getHp()};\n    P.getPokemonByName(englishPokemonName.toLowerCase())\n      .then(function(response) {\n        console.log(response);\n        addPokemon(response);\n        addFromDefaultSearch();\n        addGameid();\n        addSpeciesData();\n        getHp();\n      })\n      .catch(function(error) {\n        console.log('There was an error : ', error);\n        return error;\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h1>PokeFind</h1>\n        <h2>Trouve tes pokemons !</h2>\n        <SearchForm formTitle=\"Renseigne le nom du pokemon en français\" searchPokemon={this.searchPokemon} addPokemon={this.addPokemon}/>\n        <DisplayPokemon pokemon={this.state.pokemon} \n                        frenchName={this.state.frenchName}\n                        gameid={this.state.gameid}\n                        height={this.state.height}\n                        weight={this.state.weight}\n                        stats={this.state.stats}\n                        hp={this.state.hp}\n                        speciesData={this.state.speciesData}\n                        genus={this.state.genus}\n                        pokemonDescriptions={this.state.pokemonDescriptions} />\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}