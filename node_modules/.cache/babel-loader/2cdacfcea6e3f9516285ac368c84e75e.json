{"ast":null,"code":"import _classCallCheck from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/florentpianet/Documents/React/pokefind/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import SearchForm from'./SearchForm';import DisplayPokemon from'./DisplayPokemon';//deploy test\n// init pokeAPI call\nvar pokedex=require('pokedex-promise-v2');var P=new pokedex();// Init  pokemon call for translation\nvar pokemonNameSearch=require('pokemon');var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={pokemon:[],frenchName:'',gameid:0,height:0,weight:0,type:'',genus:'',stats:[],speed:0,specialDefense:0,specialAttack:0,defense:0,attack:0,hp:0,speciesName:'',speciesData:{},pokemonDescriptions:[]};_this.addPokemon=function(pokemon){var oldPokemon=[];var newPokemon=[].concat(oldPokemon,[pokemon]);_this.setState({pokemon:newPokemon});};_this.addFromDefaultSearch=function(){//this.setState({height: this.state.pokemon.height, weight: this.state.pokemon.weight})\n_this.state.pokemon.map(function(pokemonElt){return _this.setState({height:pokemonElt.height/10,weight:pokemonElt.weight/10,speciesName:pokemonElt.species.name,stats:pokemonElt.stats//type: pokemonElt.types[0].type.name\n});});};_this.getType=function(){_this.state.pokemon.map(function(pokemonElt){pokemonElt.types.map(function(typeElt){if(typeElt.slot===1){var type=typeElt.type.name;switch(type){case\"water\":_this.setState({type:\"Eau\"});break;case\"fire\":_this.setState({type:\"Feu\"});break;case\"normal\":_this.setState({type:\"Normal\"});break;case\"electric\":_this.setState({type:\"Electrik\"});break;case\"grass\":_this.setState({type:\"Plante\"});break;case\"ice\":_this.setState({type:\"Glace\"});break;case\"fighting\":_this.setState({type:\"Combat\"});break;case\"poison\":_this.setState({type:\"Poison\"});break;case\"ground\":_this.setState({type:\"Sol\"});break;case\"flying\":_this.setState({type:\"Vol\"});break;case\"psychic\":_this.setState({type:\"Psy\"});break;case\"bug\":_this.setState({type:\"Insecte\"});break;case\"rock\":_this.setState({type:\"Roche\"});break;case\"ghost\":_this.setState({type:\"Spectre\"});break;case\"dragon\":_this.setState({type:\"Dragon\"});break;case\"dark\":_this.setState({type:\"Ténèbres\"});break;case\"steel\":_this.setState({type:\"Acier\"});break;case\"fairy\":_this.setState({type:\"Fée\"});break;default:_this.setState({type:type});}/*return (this.setState( {\n            type: typeElt.type.name\n          }))*/}});});};_this.addGameid=function(){var id=pokemonNameSearch.getId(_this.state.frenchName,'fr');var zero=\"\";var gameid=\"\";if(id>9&&id<100){zero=\"0\";gameid=zero+id;}else if(id>0&&id<10){zero=\"00\";gameid=zero+id;}else{gameid=id;}return _this.setState({gameid:gameid});};_this.getStats=function(){_this.state.stats.map(function(elt){if(elt.stat.name===\"hp\"){_this.setState({hp:elt.base_stat});}else if(elt.stat.name===\"speed\"){_this.setState({speed:elt.base_stat});}else if(elt.stat.name===\"special-defense\"){_this.setState({specialDefense:elt.base_stat});}else if(elt.stat.name===\"special-attack\"){_this.setState({specialAttack:elt.base_stat});}else if(elt.stat.name===\"defense\"){_this.setState({defense:elt.base_stat});}else if(elt.stat.name===\"attack\"){_this.setState({attack:elt.base_stat});}});};_this.addSpeciesData=function(){var that=_assertThisInitialized(_this);P.getPokemonSpeciesByName(_this.state.speciesName).then(function(response){console.log(response);that.setState({speciesData:response});that.addFromSpeciesData(response);that.extractType();}).catch(function(error){console.log('There was an ERROR: ',error);});};_this.addFromSpeciesData=function(response){_this.setState({pokemonDescriptions:response.flavor_text_entries});};_this.extractType=function(){_this.state.speciesData.genera.map(function(entry){if(entry.language.name===\"fr\"){return _this.setState({genus:entry.genus});}});};_this.displayCard=function(){var cardElt=document.getElementById(\"card-container\");cardElt.style.display=\"block\";};_this.hideCard=function(){var cardElt=document.getElementById(\"card-container\");cardElt.style.display=\"none\";};_this.searchPokemon=function(pokemon){var formattedInput=pokemon.name.charAt(0).toUpperCase()+pokemon.name.substring(1).toLowerCase();_this.setState({frenchName:formattedInput});var pokemonId=pokemonNameSearch.getId(formattedInput,'fr');var englishPokemonName=pokemonNameSearch.getName(pokemonId,'en');console.log('englishPokemonName',englishPokemonName);// definition de constantes pour recupération dans le callback\nvar addPokemon=function addPokemon(pokemon){_this.addPokemon(pokemon);};var addFromDefaultSearch=function addFromDefaultSearch(){_this.addFromDefaultSearch();};var addGameid=function addGameid(){_this.addGameid();};var addSpeciesData=function addSpeciesData(){_this.addSpeciesData();};var getStats=function getStats(){_this.getStats();};var displayCard=function displayCard(){_this.displayCard();};var hideCard=function hideCard(){_this.hideCard();};var getType=function getType(){_this.getType();};P.getPokemonByName(englishPokemonName.toLowerCase()).then(function(response){console.log(response);addPokemon(response);addFromDefaultSearch();addGameid();addSpeciesData();getStats();getType();displayCard();}).catch(function(error){console.log('There was an error : ',error);hideCard();return React.createElement(\"p\",null,\"Erreur\");});};return _this;}_createClass(App,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"container\"},React.createElement(\"h1\",null,\"PokeFind\"),React.createElement(SearchForm,{formTitle:\"Trouve tes pokemons\",searchPokemon:this.searchPokemon,addPokemon:this.addPokemon}),React.createElement(DisplayPokemon,{pokemon:this.state.pokemon,frenchName:this.state.frenchName,gameid:this.state.gameid,height:this.state.height,weight:this.state.weight,type:this.state.type,stats:this.state.stats,speed:this.state.speed,defense:this.state.defense,attack:this.state.attack,specialAttack:this.state.specialAttack,specialDefense:this.state.specialDefense,hp:this.state.hp,statsTotal:this.state.speed+this.state.defense+this.state.attack+this.state.hp+this.state.specialDefense+this.state.specialAttack,statsAverage:(this.state.speed+this.state.defense+this.state.attack+this.state.hp+this.state.specialDefense+this.state.specialAttack)/6,speciesData:this.state.speciesData,genus:this.state.genus,pokemonDescriptions:this.state.pokemonDescriptions}));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/florentpianet/Documents/React/pokefind/src/components/App.js"],"names":["React","SearchForm","DisplayPokemon","pokedex","require","P","pokemonNameSearch","App","state","pokemon","frenchName","gameid","height","weight","type","genus","stats","speed","specialDefense","specialAttack","defense","attack","hp","speciesName","speciesData","pokemonDescriptions","addPokemon","oldPokemon","newPokemon","setState","addFromDefaultSearch","map","pokemonElt","species","name","getType","types","typeElt","slot","addGameid","id","getId","zero","getStats","elt","stat","base_stat","addSpeciesData","that","getPokemonSpeciesByName","then","response","console","log","addFromSpeciesData","extractType","catch","error","flavor_text_entries","genera","entry","language","displayCard","cardElt","document","getElementById","style","display","hideCard","searchPokemon","formattedInput","charAt","toUpperCase","substring","toLowerCase","pokemonId","englishPokemonName","getName","getPokemonByName","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SearchForm from './SearchForm';\nimport DisplayPokemon from './DisplayPokemon';\n\n//deploy test\n\n// init pokeAPI call\nconst pokedex = require('pokedex-promise-v2');\nconst P = new pokedex();\n\n// Init  pokemon call for translation\nconst pokemonNameSearch = require('pokemon');\n\n\nclass App extends React.Component {\n  state = {\n    pokemon: [],\n    frenchName: '',\n    gameid: 0,\n    height: 0,\n    weight: 0,\n    type: '',\n    genus: '',\n    stats: [],\n    speed: 0,\n    specialDefense: 0,\n    specialAttack: 0,\n    defense: 0,\n    attack: 0,\n    hp: 0,\n    speciesName : '',\n    speciesData: {},\n    pokemonDescriptions: []\n  };\n\n  addPokemon = (pokemon) => {\n    let oldPokemon = [];\n    let newPokemon = [...oldPokemon, pokemon];\n    this.setState({ pokemon: newPokemon });\n  }\n  \n  addFromDefaultSearch = () => {\n    //this.setState({height: this.state.pokemon.height, weight: this.state.pokemon.weight})\n    this.state.pokemon.map((pokemonElt) => {\n      return (this.setState({\n        height: pokemonElt.height/10,\n        weight: pokemonElt.weight/10,\n        speciesName: pokemonElt.species.name,\n        stats: pokemonElt.stats,\n        //type: pokemonElt.types[0].type.name\n      }))\n    })\n  }\n\n  getType = () => {\n    this.state.pokemon.map((pokemonElt) => {\n      pokemonElt.types.map((typeElt) => {\n        if(typeElt.slot === 1 ) {\n          let type = typeElt.type.name;\n          switch (type){\n            case \"water\":\n              this.setState({type: \"Eau\"});\n              break;\n            case \"fire\":\n              this.setState({type: \"Feu\"});\n              break;\n              case \"normal\":\n              this.setState({type: \"Normal\"});\n              break;\n              case \"electric\":\n              this.setState({type: \"Electrik\"});\n              break;\n              case \"grass\":\n              this.setState({type: \"Plante\"});\n              break;\n              case \"ice\":\n              this.setState({type: \"Glace\"});\n              break;\n              case \"fighting\":\n              this.setState({type: \"Combat\"});\n              break;\n              case \"poison\":\n              this.setState({type: \"Poison\"});\n              break;\n              case \"ground\":\n              this.setState({type: \"Sol\"});\n              break;\n              case \"flying\":\n              this.setState({type: \"Vol\"});\n              break;\n              case \"psychic\":\n              this.setState({type: \"Psy\"});\n              break;\n              case \"bug\":\n              this.setState({type: \"Insecte\"});\n              break;\n              case \"rock\":\n              this.setState({type: \"Roche\"});\n              break;\n              case \"ghost\":\n              this.setState({type: \"Spectre\"});\n              break;\n              case \"dragon\":\n              this.setState({type: \"Dragon\"});\n              break;\n              case \"dark\":\n              this.setState({type: \"Ténèbres\"});\n              break;\n              case \"steel\":\n              this.setState({type: \"Acier\"});\n              break;\n              case \"fairy\":\n              this.setState({type: \"Fée\"});\n              break;\n              default:\n                this.setState({type: type});\n          }\n          /*return (this.setState( {\n            type: typeElt.type.name\n          }))*/\n        }\n      })\n    })\n  }\n\n  addGameid = () => {\n    const id = pokemonNameSearch.getId(this.state.frenchName, 'fr');\n    let zero = \"\";\n    let gameid = \"\";\n    if ((id > 9) && (id < 100)) {\n      zero = \"0\";\n      gameid = zero + id;\n\n    } else if ((id > 0) && (id < 10)){\n      zero = \"00\";\n      gameid = zero + id;\n    } else {\n      gameid = id;\n    }\n    return(\n      this.setState({gameid: gameid})\n    )\n  }\n\n  getStats = () => {\n    this.state.stats.map(elt => {\n      if(elt.stat.name === \"hp\") {\n        this.setState({ hp: elt.base_stat })\n      } else if(elt.stat.name === \"speed\") {\n        this.setState( { speed: elt.base_stat })\n      } else if(elt.stat.name === \"special-defense\") {\n        this.setState( { specialDefense: elt.base_stat })\n      } else if(elt.stat.name === \"special-attack\") {\n        this.setState( { specialAttack: elt.base_stat })\n      } else if(elt.stat.name === \"defense\") {\n        this.setState( { defense: elt.base_stat })\n      } else if(elt.stat.name === \"attack\") {\n        this.setState( { attack: elt.base_stat })\n      }\n    })\n  }\n// Ajouter ici les methodes d'extraction de données de l'objet species\n\n  addSpeciesData = () => {\n    const that = this;\n    P.getPokemonSpeciesByName(this.state.speciesName)\n    .then(function(response) {\n      console.log(response);\n      that.setState({speciesData: response});\n      that.addFromSpeciesData(response);\n      that.extractType();\n    })\n    .catch(function(error) {\n      console.log('There was an ERROR: ', error);\n    });\n  }\n\n  addFromSpeciesData = (response) => {\n    this.setState({pokemonDescriptions: response.flavor_text_entries});\n  }\n\n  extractType = () => {\n    this.state.speciesData.genera.map((entry) => {\n        if(entry.language.name === \"fr\") {\n          return(\n            this.setState({genus: entry.genus})\n          )\n        }\n    })\n  }\n\n  displayCard = () => {\n    const cardElt = document.getElementById(\"card-container\");\n    cardElt.style.display = \"block\";\n  }\n\n  hideCard = () => {\n    const cardElt = document.getElementById(\"card-container\");\n    cardElt.style.display = \"none\";\n  }\n\n// Ajouter ici les methodes d'extraction de données de l'objet pokemon\n  searchPokemon = (pokemon) => {\n    const formattedInput = pokemon.name.charAt(0).toUpperCase() + pokemon.name.substring(1).toLowerCase();\n    this.setState({frenchName: formattedInput});\n    const pokemonId = pokemonNameSearch.getId(formattedInput, 'fr');\n    const englishPokemonName = pokemonNameSearch.getName(pokemonId, 'en');\n    console.log('englishPokemonName', englishPokemonName);\n    // definition de constantes pour recupération dans le callback\n    const addPokemon = (pokemon) => {this.addPokemon(pokemon)};\n    const addFromDefaultSearch = () => {this.addFromDefaultSearch()};\n    const addGameid = () => {this.addGameid()};\n    const addSpeciesData = () => {this.addSpeciesData()};\n    const getStats = () => {this.getStats()};\n    const displayCard = () => {this.displayCard()};\n    const hideCard = () => {this.hideCard()};\n    const getType = () => {this.getType()};\n    P.getPokemonByName(englishPokemonName.toLowerCase())\n      .then(function(response) {\n        console.log(response);\n        addPokemon(response);\n        addFromDefaultSearch();\n        addGameid();\n        addSpeciesData();\n        getStats();\n        getType();\n        displayCard();\n      })\n      .catch(function(error) {\n        console.log('There was an error : ', error);\n        hideCard();\n        return (<p>Erreur</p>);\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h1>PokeFind</h1>\n        <SearchForm formTitle=\"Trouve tes pokemons\" searchPokemon={this.searchPokemon} addPokemon={this.addPokemon}/>\n        <DisplayPokemon pokemon={this.state.pokemon} \n                        frenchName={this.state.frenchName}\n                        gameid={this.state.gameid}\n                        height={this.state.height}\n                        weight={this.state.weight}\n                        type={this.state.type}\n                        stats={this.state.stats}\n                        speed={this.state.speed}\n                        defense={this.state.defense}\n                        attack={this.state.attack}\n                        specialAttack={this.state.specialAttack}\n                        specialDefense={this.state.specialDefense}\n                        hp={this.state.hp}\n                        statsTotal={this.state.speed + this.state.defense + this.state.attack + this.state.hp + this.state.specialDefense + this.state.specialAttack}\n                        statsAverage={(this.state.speed + this.state.defense + this.state.attack + this.state.hp + this.state.specialDefense + this.state.specialAttack) /6}\n                        speciesData={this.state.speciesData}\n                        genus={this.state.genus}\n                        pokemonDescriptions={this.state.pokemonDescriptions} />\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}